###Author : xiongli

##需求描述：

**ATM + 商城：**

* 指定最大透支额度
* 可取款
* 定期还款（每月指定日期还款，如15号）
* 可存款
* 定期出账单
* 支持多用户登陆，用户间转帐
* 支持多用户
* 管理员可添加账户、指定用户额度、冻结用户等


##文档说明：

|项目   |内容   |路径 |
|-----  |-----  |------|
|使用说明书    |readme.md          |/day4/  |
|流程图        |atm.png        | /day4/  |
|主程序入口     |ATM.py         |/day4/bin |
|配置信息     |setting.py         |/day4/conf |
|商城消费数据     |data.pkl         |/day4/db |
|商城锁帐号信息     |shop_lock.txt        |/day4/db |
|商城用户信息     |UserMsg.txt        |/day4/db |
|管理员用户文件夹 |--       |/day4/db/admin |
|普通用户文件夹   |--       |/day4/db/client |
|atm操作日志   |atm.log       |/day4/log |
|主程序选择功能模块   |atm_mode.py       |/day4/modules |
|ATM用户功能模块   |atm_user.py       |/day4/modules |
|日志模块   |log.py       |/day4/modules |
|登录模块   |log_in.py       |/day4/modules |
|管理员模块   |manager.py       |/day4/modules |
|商城模块   |shopping_mall.py       |/day4/modules |

##设计思路
* 采用分目录放相应功能文件
* 购物商城
    ```
    沿用第二周商城作业
    ```
* ATM用户登陆
    ```
        通过登录模块，校验输入登陆帐号是否存在相对应的文件目录和文件。校验完后，读帐号文件信息到内存中，并可执行
    取款、还款、存款、查询帐单、转帐、修改自己密码等功能。
    * 取款：判断有无存款的情况，优先扣减存款金额，再扣减可用额度，最多只能取存款+可用额度/2
    * 还款：检测各帐期欠费情况，并打印。选择对应帐期数据，增加还款金额额度；如是当前帐期，还款金额增加至可用额度
    * 查询帐单：将各各帐期列表展示，可选择对应帐期并将消费金额、还款金额、欠费金额、延期手续费等信息打印出来。
    * 转帐：输入转入帐号，校验帐号，将金额从登陆帐号扣减至转入帐号，并计算手续费。
    * 修改密码：输入两次新密码，校验两次输入是否一致，一致则用MD5方式加密，保存至帐号文件中。
    * 登录时自动生成帐单数据：根据每个帐号的还款日期，判断登录日期与最后帐期之间的日期差，循环生成帐单数据至当前帐期。
    ```
* 用户管理
    ```
       通过登录模块，校验输入登陆帐号是否存在相对应的文件目录和文件。校验完后，读帐号文件信息到内存中，并可执行
    新增帐户、调整最大透支额度、冻结帐户、解锁帐户、修改密码等功能。
    * 新增帐户： 选择新增帐户类型：【0】普通用户；【1】管理用户，普通用户随机生成6开头帐号，并按格式输入：
        密码/权限(0：普通用户；1：管理员用户)/信用卡最大透支额度/本月可用额度/还款日期/储蓄金额,则创建成功
    * 调整最大透支额度：输入调整帐号，读帐号信息，将输入金额写入帐号文件中。
    * 冻结帐户：输入帐号，验证帐号，将冻结信息写入文件中。
    * 解锁帐户：输入帐号，验证帐号，将解锁信息写入文件中。
    * 修改密码：输入两次新密码，校验两次输入是否一致，一致则用MD5方式加密，保存至帐号文件中。
    ```
    
##使用说明：
  * 商场帐号：
    ```
    xiongli、oldboy、xx、aa ；密码均为：123
    ```
  * ATM帐号：
    ```
    管理员帐号：admin、xx、可新增 密码均为：123
    普通帐号：6011890764、可新增 密码均为：123
    ```
##脚本执行方式：

* 调用python 执行 /day4/bin/ATM.py ，python /day4/bin/ATM.py
* 运行环境： python 3.x   